
var NoMovesPossible = function(green, turquise) {
	
	this.svgObject = new LudoSVG("noMovablePieces");
	this.svg       = undefined;
	this.group     = undefined;
	
	// colors
	this.blackColor = "#000000";
	this.greenColor = green || "#4FA900";
	this.turquiseColor = turquise || "#2AFFDE";
	
	// black paths
	this.bp1={o:"path", t:"M914.5,180c0,0-5.5,2-14.5,5s-6-5-6-5l34-4.5c2-57.5-23.5-59-38.5-59.5s-20.5,5-20.5,5V71.5L839,63l-11,3v56c-8-10-18-13-18-13V56c0,0-24-8-28.5-7.67S771,52,771,52v8.5c-6.5-2.5-10-1.5-19.5,2s-8,8-8.5,17.5s0.04,16.88,8.5,18.94C765,102.24,771,99,771,99v5.5c-4,0-23.75-2.5-35.25-3.6S714,109,714,109v-8.1c-44-12.1-50.26,16.61-50.26,16.61c-2-7-11.25-26-26.25-26s-25.51,13.51-25.51,13.51c-2-41-19.53-58.47-30.53-62.97s-24.54-4.95-29.54-3.45s-8.601,14.09-8.66,18.59c-0.07,4.5,0.37,200.2-0.13,217.2s1.63,11.761,1.63,11.761L576.5,283l1-70c14.5-2.5,19-13.5,19-13.5c7.5,81.5,26.5,84,40.5,83s19-11.5,19-11.5l6,2c30.5,4,39.5-8.5,39.5-8.5l4,2c25,4,38.5-7,38.5-7l8.5,1.5l31-6l5.5,1c30-8,38.5-17,38.5-17s7.5,3,11,3s25.58-6.29,31.5-10.5c1-5,0-13.5,0-13.5s9.5,5,26,5s27-9.5,27-9.5c0-4.5,5.11-32.5,5.11-32.5L914.5,180z M578,140.67c-2.67-5.34,0-27.67,0-27.67C580,125.67,578,140.67,578,140.67z M634.33,227c-10-27.67,0-77.33,0-77.33C642.67,187.67,634.33,227,634.33,227z M680,219c-1,16-10,10-10,10c3.33-6.33,3-29,3-29S681,203,680,219z M700,166c0,0-7.33-7.33-7-17.67c0.33-10.33,7-6.33,7-6.33V166z M715.33,224c2.34-8,0-26.33,0-26.33s6,2.33,7,13.16C723.85,227.29,715.33,224,715.33,224z M744,166c0,0-6.67-2-6.67-21c0-4.36,6.67,0,6.67,0V166z"};
	this.bp2={o:"path", t:"M502,159c-4.33-10,1.67-22.33,1.67-22.33l19.33,4.16l-1.67-47.16c-13.87-4-23.9-2.82-31.021,1.48c-11.87,7.16-15.64,21.18-15.64,21.18c-1-13.67-12-27-25.34-28c-13.33-1-23,16-23,16l-24-30.33l-9.66,75.5c0,0-9-70.17-9.34-73.5c-0.33-3.33-2.66-4-2.66-4l-24,34.67c0,0-5-16-25.34-15.34C311,92,303.33,122,303.33,122L299,52.67c0,0-2.33-2-5.33-3.34c-3-1.33-28.34-3-28.34-3l-11,70l-10.66-65L236.33,48l-27,14.67l-16,190l29.34,19.66L231,269l3-44.67l3.67,21.34l27,3.83l6-1.99l3-22.51l5,56L309,267.67c5.67,10.33,16.67,15.66,20.67,16c4,0.33,8,2.33,22-8.34C365.67,264.67,370,226,370,226l8,58l25,1.67l3-3l8.67-61.67c6.33,52.67,26,64.33,39.33,66.67c13.33,2.33,19-1.67,19-1.67s7,3.78,18.67,3.33c18.76-0.72,31-19.33,32.66-61.33C526,186,506.33,169,502,159z M333.67,227.33c-8.34-30.33,0-79.66,0-79.66C344.33,182.67,333.67,227.33,333.67,227.33zM448.5,140.83L451,153h-5L448.5,140.83z M486.33,241.67c-6.66-2-12.66-4.67-12.66-4.67s-10,4.98-15.67,4.16c-5.67-0.83-13.33-34.83-14-46.16h35c0,0,1.67,5,6.33,10.67c4.67,5.66,7.34,9.33,7.34,21.66C492.67,239.67,493,243.67,486.33,241.67z"};
	this.bp3={o:"path", t:"M33,214.25c0,0,26.25,10,28.5,10S75,222.5,75,222.5V202l14.25,37.25l11.625-1.5L117.688,227c0,0,8.281,21,28.031,22.5c12.75-1.5,20.516-4.5,20.516-4.5s21.758-2.5,22.758-67.5c0.559-36.332-8.176-55.309-18.915-64.099c-8.473-6.936-18.319-7.151-25.707-7.151c0,0-8.371-1-20.371,9.5V82c0,0-3-3.5-11.5-3S83,86,83,86l0.25,32.5l-16.75-29L53.875,87L33,107.75V214.25z"};
	this.blacksObject = {g:"blacks", a:new Array(this.bp1, this.bp2, this.bp3)};

	// green paths
	this.gp1 ={o:"path", t:"M891.5,119c-15-0.5-23.5,26.333-23.5,26.333L867,73.5l-25.333-7.167L842.334,81l0.333,69c-10-33.333-34.667-37-34.667-37V58c0,0-20.27-6.52-24.67-5.5c-2.16,0.5-1.33,12-1.33,12l-9-2.83c-6.5-2.5-14.17-0.67-17,2.33c-3.65,3.86-2.53,9.71-2.17,18.5c0.34,7.97,0.47,9.63,4.17,11.5c17.5,8.83,25-3.17,25-3.17l0.33,18.67c-4,0-35.522-3.021-47.021-4.17c-16.643-1.663-22.979,20.34-22.979,20.34l-1.5-22.17C664.17,89.67,667,139.333,667,139.333c-2-7-13.666-43.333-30.333-43.333c-15,0-25.837,29.67-25.837,29.67c-5.409-43.61-9.33-72.34-29.33-80.34C570.46,40.92,559,41.5,554,43s-5.606,12.167-5.666,16.667c-0.07,4.5,1.083,223.333,1.083,223.333L575,282v-74c18-0.5,28-25.333,28-25.333c0.667,82,17.048,94.109,30.875,96.503C656,283,664.667,246,664.667,246l1.302,25c31.365,7.278,42.698-22,42.698-22l-0.175,14.5c37,9.5,49.842-36.167,49.842-36.167l-1.667,29.001l25.333-5L782.334,237c1.12,4.42,8.333,13.334,8.333,13.334S807.5,251,819.5,241c14.94-12.45,23.5-37.333,23.5-37.333S839.5,237,843,237s18.58-2.79,24.5-7c1-5,1.167-37,1.167-37S873,218.5,896,219c16.5,0.36,26-5.5,26-5.5c0-4.5,2.154-28.134,2.154-28.134s-15.82,6.968-23.82,6.968c-9.49,0-10.834-16.834-10.834-16.834l35.167-3.166C926.667,114.834,898.647,119.238,891.5,119zM575,172.25c0,0-1.75-90-1-92.5C574,79.75,596.667,123,575,172.25z M637.25,243.5c0,0-20.25-55.5,0-112.75C637.25,130.75,654.667,196.334,637.25,243.5z M686.5,233.5c-4,2.75-18.5,0-18.5,0s5.25-40.5,3-49.38c0,0,12.25,17.13,16.5,22.63S690.5,230.75,686.5,233.5z M729.5,224.5c-3.166,5.834-15.75,3-15.75,3s-1.5-31.5-3.25-40.38c-1.75-8.87-13.75-19.37-18-25.37s-1.75-24.25,1-25.5c2.71-1.23,16.96,1.43,17.24,1.5c-0.09,0-1.57,2.34-0.24,23c1.37,21.36,7.75,26.75,17,39.25S732.565,218.851,729.5,224.5z M736.5,158.75c-3-6.5-2.75-21,0-21.5s19.25,4,19.25,4L757,195C754,182.25,739.5,165.25,736.5,158.75z M809,213v-68c0,0,11.5,3.75,12,28.75S809,213,809,213z M891,152c0,0,0-7.25,6.25-7.75S906,152,906,152H891z"};
	this.gp2 ={o:"path", t:"M500,159c-4.33-10,1.33-26.33,1.33-26.33l19.34,3.66l-0.34-41c-13.87-4-22.9-2.48-30.021,1.82c-11.87,7.16-15.64,31.85-15.64,31.85c-1-13.67-12.33-36.33-25.67-37.33c-13.33-1-22.67,18-22.67,18l-21.7-27.56l-13.96,117.56c0,0-6.69-97.33-7.61-107.34c-0.85-9.32-1.86-8.43-4.06-15.66l-23.67,34.66c0,0-6.33-18.89-26.66-18c-22.67,1-31,65-31,65l-1-67c0,0-1-38.66-4-40c-3-1.33-26-3-26-3l-16,107.17L237,65.33l-2.67-13.66l-24,12.66l-15,186.34l26,18l1.34-24.34l5-72.66L239,245.33l23,2.18l3.33-18.18l8.34-59l6,108l27.33-12l-2-12c9,21.34,20.67,26.66,24.67,27c4,0.33,10.87,1.97,22-11.66c13.33-16.34,15-89.34,15-89.34L380,282l21.33,1.33L405,266l10.67-81.67c3.66,77.34,25,99,38.33,101.34c13.33,2.33,19-1.67,19-1.67s7,3.78,18.67,3.33c18.76-0.72,29-17.33,30.66-59.33C524,186,504.33,169,500,159z M332.25,242.5C311.5,187.25,331,131,331,131C352.5,179.5,332.25,242.5,332.25,242.5z M448.25,129.25l5.5,26.75h-11.5L448.25,129.25z M496.5,227c-0.33,9-2.58,19.75-6.25,19.75c-3.66,0-16.75-5.75-16.75-5.75s-13.5,5.84-21.5,0.5s-12.42-45.17-10.75-49.5l38.75,0.25c0,0,3.92,6.75,8.25,12.75C492.59,211,496.84,218,496.5,227z"};
	this.gp3 ={o:"path", t:"M143,107.5c-29.5,4-33.75,57.31-33.75,57.31s1.09-81.39,0.76-82.56c-0.33-1.17-24.76,5.25-24.76,5.25l-0.75,68c0,0-31-63.25-32-63.75S34,108,34,108v105c0,0,23.5,8.5,25.33,8.67C61.17,221.83,60,160.23,60,160.23c4.14,7.649,28.22,75.34,29.83,75.939S109.67,225.5,111,224c1.23-1.39-1.09-32.23-1.45-36.91c1.12,11.16,9.93,61.391,35.28,60.41c10.25-0.4,18.18-5.28,24.17-16.75c5.01-9.58,8.99-24.19,9-45.5C178.03,138.44,165.83,104.4,143,107.5z M143.33,214.33c0,0-7.91-9.66-8.58-36.66s8.58-36.67,8.58-36.67s7.26-4.19,7.92,33C152,216.5,143.33,214.33,143.33,214.33z"};
	this.greensObject = {g:"greens", a:new Array(this.gp1, this.gp2, this.gp3)};
	
	// turquise paths
	this.tp1 ={o:"path", t:"M898.33,126.67c-17.66-0.08-21.33,35.66-21,46c0.34,10.33,3,54.33,39.34,36l1.66-10.34c0,0-32.33,16.68-32.66-28.49l36.33-2.51C922,167.33,925.74,126.79,898.33,126.67z M914,159l-27,1c0,0,0-22.333,12.74-23C914.801,136.211,914,159,914,159z"};
	this.tp2 ={o:"poly", t:"855,76.833 863,78.667 863,224 855,226.334 "};
	this.tp3 ={o:"path", t:"M803.67,119l-1-56L796,61v182c0,0,44.29,0.68,44.33-66.33C840.37,119,803.67,119,803.67,119z M803,227v-92c11,0.67,28.87,2.78,28.67,46C831.46,224.22,803,227,803,227z"};
	this.tp4 ={o:"poly", t:"767,89.167 776,90.667 776,68 767,66.667 "};
	this.tp5 ={o:"poly", t:"767,115 776,115 776,246 767,247.333 "};
	this.tp6 ={o:"path", t:"M750,113v17c0,0-19.333-5.667-21,11.667C727.556,156.689,733.333,168,739.5,176s13.834,12.334,12.834,37.667s-9.021,45.124-32,44L719,239c0,0,14,0.666,19-4.667s8.34-20.09,3.674-32.757S719,184.749,720,153.333C720.724,130.59,726.333,106,750,113z"};
	this.tp7 ={o:"path", t:"M706,129v-19c0,0-14.28-5.474-20.333,3C677.334,124.667,671,161.334,683,182.667s18.667,17,16.667,38s-8.07,23.929-24.667,23.666V263c0,0,11.334,3.667,18.334-2.333s15.334-18.668,15-43.334s-6.99-32.999-16.662-46.666S684.667,149,685.667,142S689,124.333,706,129z"};
	this.tp8 ={o:"path", t:"M639.67,101.9c-9.89-1.52-27,23.84-27,88.14c0,64.29,15.66,82.96,24.66,82.96c11.67,0,27.63-23.33,27.67-90.67C665.04,120.67,647.67,103.13,639.67,101.9z M638.83,252.33C633,252,623,245.33,621,195.67c-2-49.67,11.04-73.74,17.83-73C645,123.33,656.33,137,656,186S644.67,252.67,638.83,252.33z"};
	this.tp9 ={o:"path", t:"M587.67,57c-9.34-9.67-28.67-10.67-30-8.67C556.33,50.33,559,276,559,276h8l0.67-71.67c0,0,24,0,31.66-39.66C609.52,111.95,597,66.67,587.67,57z M593.33,145.67C587.33,188.33,568,181,568,181V70C589.67,70.33,599.33,103,593.33,145.67z"};
	this.tp10={o:"path", t:"M512,125v-23c0,0-13.667-6-23,10s-9,58.452-1,73.667s17.667,25,17.334,45c-0.384,23.035-7.668,27.667-25.334,24.667V278c0,0,13.668,4.34,21.334-3.663s13-30.669,13-46.003S510,193.673,500.667,178.67s-12.333-16.67-11-35.336S501.666,120.333,512,125z"};
	this.tp11={o:"path", t:"M447.33,99c-22.66,2.33-24.33,86.33-24,98c0.34,11.67,7.67,92.33,42.34,80l0.66-23c0,0-33.33,19.67-34.33-70h39C471,184,472.87,96.37,447.33,99z M462,165h-29c0,0-0.56-47.08,14.5-46S462,165,462,165z"};
	this.tp12={o:"poly", t:"363,112.499 371.667,102.237 390,238.969 408.333,102.301 416,109.821 392.667,274 387,274 "};
	this.tp13={o:"path", t:"M329.33,102.33c0,0-25.66,4.67-25.33,82.34c0.33,77.66,20.67,90,25.33,89.66c4.67-0.33,27.34-4.66,27.34-84C356.67,111,336,102,329.33,102.33z M330.33,253.67c-8-1.34-17.66-23.34-18.33-69.34s10.66-61,18.33-61.66c6.31-0.55,19,19.33,16.67,68.33S338.33,255,330.33,253.67z"};
	this.tp14={o:"poly", t:"201.5,247.348 209.75,252.917 222.042,99.625 244.354,236.646 251.344,237.656 274.005,93.995 285.336,265.664 294.335,261.166 280.667,58 273,58 247.917,206.667 224.333,64.667 216,68.667 "};
	this.tp15={o:"path", t:"M143,116.33c-14.33,0-28.33,22-29.33,56.67S127,239.67,143,239s22-32.33,22-65S154,116.33,143,116.33zM140.67,223.67c-10.34,0.33-17.67-18-18-46c-0.34-27.99,8-45.29,18-45.67c8.66-0.33,16.33,12,16,45.67C156.33,211.34,151,223.33,140.67,223.67z"};
	this.tp16={o:"path", t:"M45.625,210.125L38,206.25V112l7.625-6.75c0,0,15.474,26.088,17.375,30s26,59.25,26,59.25V94l9-1.75V219l-7.25,3.75c0,0-36.25-92.75-44.5-97.75L45.625,210.125z"};
	this.turquiseObject = {g:"turquise", a:new Array(this.tp1, this.tp2, this.tp3, this.tp4, this.tp5, this.tp6, this.tp7, this.tp8, this.tp9, this.tp10, this.tp11, this.tp12, this.tp13, this.tp14, this.tp15, this.tp16)};
	
	// all objects in one array
	this.allObjectsArray = new Array(this.blacksObject, this.greensObject, this.turquiseObject);
	
	// the filter
	this.filter = "<filter  width='140%' height='130%' x='-15%' y='-15%' id='AI_Shadow_2' filterUnits='objectBoundingBox'>\
				   		<feGaussianBlur  in='SourceAlpha' stdDeviation='6' result='blur'></feGaussianBlur>\
				   		<feOffset  dx='-8' dy='8' in='blur' result='offsetBlurredAlpha'></feOffset>\
							<feMerge>\
								<feMergeNode  in='offsetBlurredAlpha'></feMergeNode>\
								<feMergeNode  in='SourceGraphic'></feMergeNode>\
							</feMerge>\
				   </filter>";
}

NoMovesPossible.prototype = {
	
	init: function(width, height) {
		
		this.svg = this.svgObject.newSVG(width, height);
		
		// setup the filter
		this.svg.innerHTML = this.filter;
		
		for (var i = 0; i < this.allObjectsArray.length; i++) {
		
			this.group = undefined;
			
			// if groups are defined in the objects we append the paths to them
			if (this.allObjectsArray[i].g != undefined) {
				this.group = this.svgObject.newGroup();
				this.group.setAttribute("id", this.allObjectsArray[i].g);
				this.group.setAttribute("class", this.allObjectsArray[i].g + "_style");
				
				if (this.allObjectsArray[i].g == "blacks") {
					this.group.setAttribute("filter", "url(#AI_Shadow_2)");
				}
			}
			
			// loop through all of the object's
			for (var j = 0; j < this.allObjectsArray[i].a.length; j++) {
				
				if (this.allObjectsArray[i].a[j].o == "path") {
					this.path = this.svgObject.newPath();
					this.path.setAttribute("d", this.allObjectsArray[i].a[j].t);
					if (this.group != undefined) {
						this.group.appendChild(this.path);
					}
					else {
						this.svg.appendChild(this.path);
					}
				}
				else if (this.allObjectsArray[i].a[j].o == "poly") {
					this.poly = this.svgObject.newPolygon();
					this.poly.setAttribute("points", this.allObjectsArray[i].a[j].t);
					if (this.group != undefined) {
						this.group.appendChild(this.poly);
					}
					else {
						this.svg.appendChild(this.poly);
					}
				}
			}
			
			// we append each group to the svg tag
			if (this.group != undefined) {
				this.svg.appendChild(this.group);
			}
			
		}
		this.addStylesToSVG();
	},
	
	addStylesToSVG: function() {
		
		var styleTag = this.svgObject.newStyle();
		
		var blacksStyle   = ".blacks_style { fill:" + this.blackColor + "; } \n";
		var greensStyle   = ".greens_style { fill:" + this.greenColor + "; } \n";
		var turquiseStyle = ".turquise_style { fill:" + this.turquiseColor + "; } \n";
			
		styleTag.innerHTML += blacksStyle;
		styleTag.innerHTML += greensStyle;
		styleTag.innerHTML += turquiseStyle;
		
		this.svg.appendChild(styleTag);
	}
}


